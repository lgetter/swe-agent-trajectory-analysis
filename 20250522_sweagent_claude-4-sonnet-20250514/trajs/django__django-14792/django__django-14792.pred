{"model_name_or_path": "250522_anthropic_filemap_simple_review__claude-sonnet-4-20250514__t-0.00__p-1.00__c-3.00___swe_bench_verified_test", "instance_id": "django__django-14792", "model_patch": "diff --git a/django/db/backends/postgresql/operations.py b/django/db/backends/postgresql/operations.py\nindex 8d19872bea..22c6e4ff00 100644\n--- a/django/db/backends/postgresql/operations.py\n+++ b/django/db/backends/postgresql/operations.py\n@@ -44,10 +44,14 @@ class DatabaseOperations(BaseDatabaseOperations):\n         return \"DATE_TRUNC('%s', %s)\" % (lookup_type, field_name)\n \n     def _prepare_tzname_delta(self, tzname):\n-        if '+' in tzname:\n-            return tzname.replace('+', '-')\n-        elif '-' in tzname:\n-            return tzname.replace('-', '+')\n+        # Only reverse signs for numeric offset strings (e.g., '+1000', '-0500'),\n+        # not for named timezone strings (e.g., 'Etc/GMT-10', 'America/New_York').\n+        if tzname and len(tzname) > 1 and tzname[0] in '+-' and tzname[1:].replace(':', '').isdigit():\n+            # This is a numeric offset string, reverse the sign for PostgreSQL\n+            if tzname.startswith('+'):\n+                return '-' + tzname[1:]\n+            elif tzname.startswith('-'):\n+                return '+' + tzname[1:]\n         return tzname\n \n     def _convert_field_to_tz(self, field_name, tzname):\ndiff --git a/tests/backends/postgresql/tests.py b/tests/backends/postgresql/tests.py\nindex 7f27c69ffb..e018b49f83 100644\n--- a/tests/backends/postgresql/tests.py\n+++ b/tests/backends/postgresql/tests.py\n@@ -282,3 +282,33 @@ class Tests(TestCase):\n             [q['sql'] for q in connection.queries],\n             [copy_expert_sql, 'COPY django_session TO STDOUT'],\n         )\n+\n+    def test_prepare_tzname_delta(self):\n+        \"\"\"\n+        Test that _prepare_tzname_delta only reverses signs for numeric offset\n+        strings, not for named timezone strings like 'Etc/GMT-10'.\n+        \"\"\"\n+        ops = connection.ops\n+        \n+        # Numeric offset strings should have signs reversed\n+        self.assertEqual(ops._prepare_tzname_delta('+1000'), '-1000')\n+        self.assertEqual(ops._prepare_tzname_delta('-0500'), '+0500')\n+        self.assertEqual(ops._prepare_tzname_delta('+0000'), '-0000')\n+        self.assertEqual(ops._prepare_tzname_delta('+05:30'), '-05:30')\n+        self.assertEqual(ops._prepare_tzname_delta('-10:00'), '+10:00')\n+        \n+        # Named timezone strings should remain unchanged\n+        self.assertEqual(ops._prepare_tzname_delta('Etc/GMT-10'), 'Etc/GMT-10')\n+        self.assertEqual(ops._prepare_tzname_delta('Etc/GMT+5'), 'Etc/GMT+5')\n+        self.assertEqual(ops._prepare_tzname_delta('America/New_York'), 'America/New_York')\n+        self.assertEqual(ops._prepare_tzname_delta('Europe/London'), 'Europe/London')\n+        self.assertEqual(ops._prepare_tzname_delta('UTC'), 'UTC')\n+        \n+        # Edge cases should remain unchanged\n+        self.assertEqual(ops._prepare_tzname_delta(''), '')\n+        self.assertEqual(ops._prepare_tzname_delta('+'), '+')\n+        self.assertEqual(ops._prepare_tzname_delta('-'), '-')\n+        self.assertEqual(ops._prepare_tzname_delta('+abc'), '+abc')\n+        self.assertEqual(ops._prepare_tzname_delta('-xyz'), '-xyz')\n+        self.assertEqual(ops._prepare_tzname_delta('GMT'), 'GMT')\n+        self.assertEqual(ops._prepare_tzname_delta('Z'), 'Z')\n"}