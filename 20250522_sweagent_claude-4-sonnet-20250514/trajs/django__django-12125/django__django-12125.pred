{"model_name_or_path": "250522_anthropic_filemap_simple_review__claude-sonnet-4-20250514__t-0.00__p-1.00__c-3.00___swe_bench_verified_test", "instance_id": "django__django-12125", "model_patch": "diff --git a/django/db/migrations/serializer.py b/django/db/migrations/serializer.py\nindex 7d226955d5..252b1a502a 100644\n--- a/django/db/migrations/serializer.py\n+++ b/django/db/migrations/serializer.py\n@@ -269,7 +269,13 @@ class TypeSerializer(BaseSerializer):\n             if module == builtins.__name__:\n                 return self.value.__name__, set()\n             else:\n-                return \"%s.%s\" % (module, self.value.__name__), {\"import %s\" % module}\n+                # Use __qualname__ instead of __name__ to handle inner classes correctly\n+                qualname = getattr(self.value, '__qualname__', self.value.__name__)\n+                # Check if this is a local class (contains <locals>) which can't be serialized\n+                if '<' in qualname:\n+                    # Fall back to __name__ for local classes to maintain backward compatibility\n+                    qualname = self.value.__name__\n+                return \"%s.%s\" % (module, qualname), {\"import %s\" % module}\n \n \n class UUIDSerializer(BaseSerializer):\n"}