{"model_name_or_path": "250522_anthropic_filemap_simple_review__claude-sonnet-4-20250514__t-0.00__p-1.00__c-3.00___swe_bench_verified_test", "instance_id": "django__django-13346", "model_patch": "diff --git a/django/db/models/fields/json.py b/django/db/models/fields/json.py\nindex fafc1beee8..e99778370c 100644\n--- a/django/db/models/fields/json.py\n+++ b/django/db/models/fields/json.py\n@@ -479,6 +479,37 @@ class KeyTransformGte(KeyTransformNumericLookupMixin, lookups.GreaterThanOrEqual\n     pass\n \n \n+class KeyTransformIn(lookups.In):\n+    def process_rhs(self, compiler, connection):\n+        if self.rhs_is_direct_value():\n+            # Handle direct values (lists)\n+            rhs, rhs_params = super().process_rhs(compiler, connection)\n+            \n+            # Apply database-specific transformations similar to KeyTransformExact\n+            if connection.vendor == 'oracle':\n+                func = []\n+                for value in rhs_params:\n+                    value = json.loads(value)\n+                    function = 'JSON_QUERY' if isinstance(value, (list, dict)) else 'JSON_VALUE'\n+                    func.append(\"%s('%s', '$.value')\" % (\n+                        function,\n+                        json.dumps({'value': value}),\n+                    ))\n+                rhs = rhs % tuple(func)\n+                rhs_params = []\n+            elif connection.vendor == 'sqlite':\n+                func = [\"JSON_EXTRACT(%s, '$')\" if value != 'null' else '%s' for value in rhs_params]\n+                rhs = rhs % tuple(func)\n+            elif connection.vendor == 'mysql':\n+                func = [\"JSON_EXTRACT(%s, '$')\" for _ in rhs_params]\n+                rhs = rhs % tuple(func)\n+                \n+            return rhs, rhs_params\n+        else:\n+            # Handle subqueries\n+            return super().process_rhs(compiler, connection)\n+\n+\n KeyTransform.register_lookup(KeyTransformExact)\n KeyTransform.register_lookup(KeyTransformIExact)\n KeyTransform.register_lookup(KeyTransformIsNull)\n@@ -494,6 +525,7 @@ KeyTransform.register_lookup(KeyTransformLt)\n KeyTransform.register_lookup(KeyTransformLte)\n KeyTransform.register_lookup(KeyTransformGt)\n KeyTransform.register_lookup(KeyTransformGte)\n+KeyTransform.register_lookup(KeyTransformIn)\n \n \n class KeyTransformFactory:\n"}