{"model_name_or_path": "250522_anthropic_filemap_simple_review__claude-sonnet-4-20250514__t-0.00__p-1.00__c-3.00___swe_bench_verified_test", "instance_id": "django__django-11964", "model_patch": "diff --git a/django/db/models/query_utils.py b/django/db/models/query_utils.py\nindex 189fb4fa44..5fcec8050e 100644\n--- a/django/db/models/query_utils.py\n+++ b/django/db/models/query_utils.py\n@@ -138,6 +138,29 @@ class DeferredAttribute:\n             data[field_name] = val\n         return data[field_name]\n \n+    def __set__(self, instance, value):\n+        \"\"\"\n+        Set the value for the field. If the value is a Choices enum, extract\n+        its underlying value to ensure consistency.\n+        \"\"\"\n+        # Import here to avoid circular imports\n+        from django.db.models.enums import Choices\n+        \n+        # If the value is a Choices enum, extract its value\n+        if isinstance(value, Choices):\n+            value = value.value\n+            \n+        instance.__dict__[self.field.attname] = value\n+\n+    def __delete__(self, instance):\n+        \"\"\"\n+        Delete the cached value from the instance.\n+        \"\"\"\n+        try:\n+            del instance.__dict__[self.field.attname]\n+        except KeyError:\n+            pass\n+\n     def _check_parent_chain(self, instance):\n         \"\"\"\n         Check if the field value can be fetched from a parent field already\n"}