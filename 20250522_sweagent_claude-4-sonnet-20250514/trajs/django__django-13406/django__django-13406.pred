{"model_name_or_path": "250522_anthropic_filemap_simple_review__claude-sonnet-4-20250514__t-0.00__p-1.00__c-3.00___swe_bench_verified_test", "instance_id": "django__django-13406", "model_patch": "diff --git a/django/db/models/query.py b/django/db/models/query.py\nindex b48d0df9c0..2ea29b574f 100644\n--- a/django/db/models/query.py\n+++ b/django/db/models/query.py\n@@ -211,6 +211,14 @@ class QuerySet:\n     @query.setter\n     def query(self, value):\n         self._query = value\n+        # If the query has values_select set, it was likely created with values()\n+        # or values_list(), so we need to set the appropriate iterable class.\n+        # Since we can't distinguish between different types of values queries\n+        # from the query object alone, we default to ValuesIterable which handles\n+        # the most common case of values().\n+        if getattr(value, 'values_select', None):\n+            self._iterable_class = ValuesIterable\n+            self._fields = value.values_select\n \n     def as_manager(cls):\n         # Address the circular dependency between `Queryset` and `Manager`.\n"}