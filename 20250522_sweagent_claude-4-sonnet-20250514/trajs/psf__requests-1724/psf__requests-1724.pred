{"model_name_or_path": "250522_anthropic_filemap_simple_review__claude-sonnet-4-20250514__t-0.00__p-1.00__c-3.00___swe_bench_verified_test", "instance_id": "psf__requests-1724", "model_patch": "diff --git a/requests/models.py b/requests/models.py\nindex f82f56a3..2d49061f 100644\n--- a/requests/models.py\n+++ b/requests/models.py\n@@ -307,7 +307,7 @@ class PreparedRequest(RequestEncodingMixin, RequestHooksMixin):\n         \"\"\"Prepares the given HTTP method.\"\"\"\n         self.method = method\n         if self.method is not None:\n-            self.method = self.method.upper()\n+            self.method = to_native_string(self.method.upper())\n \n     def prepare_url(self, url, params):\n         \"\"\"Prepares the given HTTP URL.\"\"\"\ndiff --git a/requests/sessions.py b/requests/sessions.py\nindex cc72f65d..0d9ab85e 100644\n--- a/requests/sessions.py\n+++ b/requests/sessions.py\n@@ -22,7 +22,7 @@ from .structures import CaseInsensitiveDict\n \n from .adapters import HTTPAdapter\n \n-from .utils import requote_uri, get_environ_proxies, get_netrc_auth\n+from .utils import requote_uri, get_environ_proxies, get_netrc_auth, to_native_string\n \n from .status_codes import codes\n REDIRECT_STATI = (\n@@ -254,7 +254,7 @@ class Session(SessionRedirectMixin):\n \n         p = PreparedRequest()\n         p.prepare(\n-            method=request.method.upper(),\n+            method=to_native_string(request.method.upper()),\n             url=request.url,\n             files=request.files,\n             data=request.data,\n@@ -311,7 +311,7 @@ class Session(SessionRedirectMixin):\n         \"\"\"\n         # Create the Request.\n         req = Request(\n-            method = method.upper(),\n+            method = to_native_string(method.upper()),\n             url = url,\n             headers = headers,\n             files = files,\n"}