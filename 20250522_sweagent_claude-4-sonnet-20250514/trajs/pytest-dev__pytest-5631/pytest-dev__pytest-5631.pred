{"model_name_or_path": "250522_anthropic_filemap_simple_review__claude-sonnet-4-20250514__t-0.00__p-1.00__c-3.00___swe_bench_verified_test", "instance_id": "pytest-dev__pytest-5631", "model_patch": "diff --git a/src/_pytest/compat.py b/src/_pytest/compat.py\nindex d238061b4..a50dfecd4 100644\n--- a/src/_pytest/compat.py\n+++ b/src/_pytest/compat.py\n@@ -67,8 +67,23 @@ def num_mock_patch_args(function):\n     mock_modules = [sys.modules.get(\"mock\"), sys.modules.get(\"unittest.mock\")]\n     if any(mock_modules):\n         sentinels = [m.DEFAULT for m in mock_modules if m is not None]\n+        \n+        def _is_in_sentinels(new_value):\n+            \"\"\"Check if new_value is in sentinels, handling array-like objects.\"\"\"\n+            try:\n+                import warnings\n+                with warnings.catch_warnings():\n+                    warnings.simplefilter(\"ignore\")\n+                    return new_value in sentinels\n+            except ValueError:\n+                # This handles the case where new_value is an array-like object\n+                # (e.g., numpy array) that raises ValueError when used with 'in'\n+                # due to ambiguous truth value. In such cases, we can safely\n+                # assume it's not a sentinel value.\n+                return False\n+        \n         return len(\n-            [p for p in patchings if not p.attribute_name and p.new in sentinels]\n+            [p for p in patchings if not p.attribute_name and _is_in_sentinels(p.new)]\n         )\n     return len(patchings)\n \n"}