{"model_name_or_path": "250522_anthropic_filemap_simple_review__claude-sonnet-4-20250514__t-0.00__p-1.00__c-3.00___swe_bench_verified_test", "instance_id": "sphinx-doc__sphinx-10614", "model_patch": "diff --git a/sphinx/ext/inheritance_diagram.py b/sphinx/ext/inheritance_diagram.py\nindex 6e3985512..e24bea941 100644\n--- a/sphinx/ext/inheritance_diagram.py\n+++ b/sphinx/ext/inheritance_diagram.py\n@@ -33,6 +33,7 @@ from __future__ import annotations\n import builtins\n import hashlib\n import inspect\n+import posixpath\n import re\n from collections.abc import Iterable\n from importlib import import_module\n@@ -413,12 +414,34 @@ def html_visit_inheritance_diagram(self: HTML5Translator, node: inheritance_diag\n     for child in pending_xrefs:\n         if child.get('refuri') is not None:\n             if graphviz_output_format == 'SVG':\n-                urls[child['reftitle']] = \"../\" + child.get('refuri')\n+                # For SVG, the fix_svg_relative_paths function will convert URLs\n+                # from being relative to the output directory to being relative\n+                # to the _images directory. So we need to provide URLs that are\n+                # relative to the output directory.\n+                \n+                # Resolve the relative refuri against the current document URI\n+                current_doc_uri = self.builder.get_target_uri(self.builder.current_docname)\n+                refuri = child.get('refuri')\n+                \n+                # Split refuri into path and fragment\n+                refuri_parts = refuri.split('#')\n+                refuri_path = refuri_parts[0]\n+                fragment = '#' + refuri_parts[1] if len(refuri_parts) > 1 else ''\n+                \n+                # Resolve the relative path to get the absolute target path\n+                target_path = posixpath.normpath(posixpath.join(posixpath.dirname(current_doc_uri), refuri_path))\n+                \n+                # The target_path is now relative to the output directory, which is what\n+                # fix_svg_relative_paths expects\n+                urls[child['reftitle']] = target_path + fragment\n             else:\n                 urls[child['reftitle']] = child.get('refuri')\n         elif child.get('refid') is not None:\n             if graphviz_output_format == 'SVG':\n-                urls[child['reftitle']] = '../' + current_filename + '#' + child.get('refid')\n+                # For SVG, provide path relative to output directory\n+                # fix_svg_relative_paths will convert it to be relative to _images\n+                current_doc_uri = self.builder.get_target_uri(self.builder.current_docname)\n+                urls[child['reftitle']] = current_doc_uri + '#' + child.get('refid')\n             else:\n                 urls[child['reftitle']] = '#' + child.get('refid')\n \ndiff --git a/tox.ini b/tox.ini\nindex a3dc56211..c76147de3 100644\n--- a/tox.ini\n+++ b/tox.ini\n@@ -24,7 +24,7 @@ setenv =\n     PYTHONWARNINGS = error\n     PYTEST_ADDOPTS = {env:PYTEST_ADDOPTS:} --color yes\n commands=\n-    python -X dev -X warn_default_encoding -m pytest --durations 25 {posargs}\n+    python -X dev -X warn_default_encoding -m pytest -rA --durations 25 {posargs}\n \n [testenv:docs]\n basepython = python3\n"}