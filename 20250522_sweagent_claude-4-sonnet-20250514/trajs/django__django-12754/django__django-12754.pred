{"model_name_or_path": "250522_anthropic_filemap_simple_review__claude-sonnet-4-20250514__t-0.00__p-1.00__c-3.00___swe_bench_verified_test", "instance_id": "django__django-12754", "model_patch": "diff --git a/django/db/migrations/autodetector.py b/django/db/migrations/autodetector.py\nindex 30616c0172..c26899221d 100644\n--- a/django/db/migrations/autodetector.py\n+++ b/django/db/migrations/autodetector.py\n@@ -571,6 +571,17 @@ class MigrationAutodetector:\n                     None,\n                     True\n                 ))\n+            # Check if any fields in this model are being removed from a base model\n+            # If so, we need to depend on the removal of those fields\n+            for field_name, field in model_state.fields.items():\n+                if field_name not in related_fields:  # Skip related fields as they're handled separately\n+                    for base in model_state.bases:\n+                        if isinstance(base, str) and \".\" in base:\n+                            base_app_label, base_name = base.split(\".\", 1)\n+                            # Check if this field is being removed from the base model\n+                            if (base_app_label, base_name.lower(), field_name) in (self.old_field_keys - self.new_field_keys):\n+                                # Add dependency on the field removal\n+                                dependencies.append((base_app_label, base_name.lower(), field_name, False))\n             # Generate creation operation\n             self.add_operation(\n                 app_label,\ndiff --git a/tests/migrations/test_autodetector.py b/tests/migrations/test_autodetector.py\nindex daff57fc2c..1661bf7ff4 100644\n--- a/tests/migrations/test_autodetector.py\n+++ b/tests/migrations/test_autodetector.py\n@@ -2454,3 +2454,34 @@ class AutodetectorTests(TestCase):\n         self.assertNumberMigrations(changes, 'app', 1)\n         self.assertOperationTypes(changes, 'app', 0, ['DeleteModel'])\n         self.assertOperationAttributes(changes, 'app', 0, 0, name='Dog')\n+\n+    def test_mti_inheritance_field_move_to_subclass(self):\n+        \"\"\"\n+        Test that moving a field from a parent model to a child model\n+        generates migrations in the correct order (RemoveField before CreateModel).\n+        \"\"\"\n+        # Parent model with field\n+        Readable = ModelState('app', 'Readable', [\n+            (\"id\", models.AutoField(primary_key=True)),\n+            (\"title\", models.CharField(max_length=200)),\n+        ])\n+        # Parent model without field\n+        ReadableWithoutTitle = ModelState('app', 'Readable', [\n+            (\"id\", models.AutoField(primary_key=True)),\n+        ])\n+        # Child model with the field\n+        Book = ModelState('app', 'Book', [\n+            (\"readable_ptr\", models.OneToOneField(\n+                \"app.Readable\",\n+                on_delete=models.CASCADE,\n+                parent_link=True,\n+                primary_key=True,\n+            )),\n+            (\"title\", models.CharField(max_length=200)),\n+        ], bases=('app.readable',))\n+        \n+        changes = self.get_changes([Readable], [ReadableWithoutTitle, Book])\n+        self.assertNumberMigrations(changes, 'app', 1)\n+        self.assertOperationTypes(changes, 'app', 0, ['RemoveField', 'CreateModel'])\n+        self.assertOperationAttributes(changes, 'app', 0, 0, model_name='readable', name='title')\n+        self.assertOperationAttributes(changes, 'app', 0, 1, name='Book')\n"}