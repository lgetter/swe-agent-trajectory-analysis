{"model_name_or_path": "250522_anthropic_filemap_simple_review__claude-sonnet-4-20250514__t-0.00__p-1.00__c-3.00___swe_bench_verified_test", "instance_id": "astropy__astropy-14508", "model_patch": "diff --git a/astropy/io/fits/card.py b/astropy/io/fits/card.py\nindex 118bfced89..99be82611d 100644\n--- a/astropy/io/fits/card.py\n+++ b/astropy/io/fits/card.py\n@@ -1299,6 +1299,22 @@ def _format_value(value):\n \n def _format_float(value):\n     \"\"\"Format a floating number to make sure it gets the decimal point.\"\"\"\n+    # First try using Python's default string representation\n+    value_str = str(value)\n+    \n+    # Convert lowercase 'e' to uppercase 'E' for FITS compliance\n+    if 'e' in value_str:\n+        value_str = value_str.replace('e', 'E')\n+    \n+    # Ensure it has a decimal point or exponent notation for float representation\n+    if \".\" not in value_str and \"E\" not in value_str:\n+        value_str += \".0\"\n+    \n+    # If the string representation fits in 20 characters, use it\n+    if len(value_str) <= 20:\n+        return value_str\n+    \n+    # Fall back to the original approach if str() doesn't fit\n     value_str = f\"{value:.16G}\"\n     if \".\" not in value_str and \"E\" not in value_str:\n         value_str += \".0\"\ndiff --git a/pyproject.toml b/pyproject.toml\nindex 65df5b1b77..d02c4f9eda 100644\n--- a/pyproject.toml\n+++ b/pyproject.toml\n@@ -1,5 +1,5 @@\n [build-system]\n-requires = [\"setuptools\",\n+requires = [\"setuptools==68.0.0\",\n             \"setuptools_scm>=6.2\",\n             \"wheel\",\n             \"cython==0.29.30\",\n"}