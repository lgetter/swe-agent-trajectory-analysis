{"model_name_or_path": "250522_anthropic_filemap_simple_review__claude-sonnet-4-20250514__t-0.00__p-1.00__c-3.00___swe_bench_verified_test", "instance_id": "pydata__xarray-4075", "model_patch": "diff --git a/xarray/core/weighted.py b/xarray/core/weighted.py\nindex 996d2e4c..c29e4f04 100644\n--- a/xarray/core/weighted.py\n+++ b/xarray/core/weighted.py\n@@ -106,6 +106,10 @@ class Weighted:\n                 \"Missing values can be replaced by `weights.fillna(0)`.\"\n             )\n \n+        # Convert boolean weights to integer to avoid issues with dot product\n+        if weights.dtype == bool:\n+            weights = weights.astype(int)\n+\n         self.obj = obj\n         self.weights = weights\n \n"}