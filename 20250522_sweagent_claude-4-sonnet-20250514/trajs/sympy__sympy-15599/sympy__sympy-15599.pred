{"model_name_or_path": "250522_anthropic_filemap_simple_review__claude-sonnet-4-20250514__t-0.00__p-1.00__c-3.00___swe_bench_verified_test", "instance_id": "sympy__sympy-15599", "model_patch": "diff --git a/reproduce_issue.py b/reproduce_issue.py\nnew file mode 100644\nindex 0000000000..d0c50d25da\n--- /dev/null\n+++ b/reproduce_issue.py\n@@ -0,0 +1,25 @@\n+#!/usr/bin/env python3\n+\n+from sympy import Symbol, Mod, sympify\n+\n+# Test the issue described in the PR\n+i = Symbol('i', integer=True)\n+\n+print(\"Testing Mod(3*i, 2):\")\n+result = Mod(3*i, 2)\n+print(f\"Current result: {result}\")\n+print(f\"Expected result: Mod(i, 2)\")\n+print(f\"Are they equal? {result == Mod(i, 2)}\")\n+\n+print(\"\\nTesting sympify(3*k%2):\")\n+k = Symbol('k', integer=True)\n+result2 = sympify(3*k % 2)\n+print(f\"Current result: {result2}\")\n+print(f\"Expected result: Mod(k, 2)\")\n+print(f\"Are they equal? {result2 == Mod(k, 2)}\")\n+\n+print(\"\\nTesting other cases:\")\n+# Test some other cases to make sure we don't break anything\n+print(f\"Mod(4*i, 4) = {Mod(4*i, 4)}\")  # Should be 0\n+print(f\"Mod(6*i, 3) = {Mod(6*i, 3)}\")  # Should be 0\n+print(f\"Mod(5*i, 3) = {Mod(5*i, 3)}\")  # Should be Mod(2*i, 3)\n\\ No newline at end of file\ndiff --git a/test_comprehensive.py b/test_comprehensive.py\nnew file mode 100644\nindex 0000000000..1cec2855f5\n--- /dev/null\n+++ b/test_comprehensive.py\n@@ -0,0 +1,40 @@\n+#!/usr/bin/env python3\n+\n+from sympy import Symbol, Mod, sympify, pi\n+from sympy.abc import x, y\n+\n+# Test the main issue\n+i = Symbol('i', integer=True)\n+k = Symbol('k', integer=True)\n+\n+print(\"=== Main issue tests ===\")\n+print(f\"Mod(3*i, 2) = {Mod(3*i, 2)}\")  # Should be Mod(i, 2)\n+print(f\"sympify(3*k%2) = {sympify(3*k % 2)}\")  # Should be Mod(k, 2)\n+\n+print(\"\\n=== Edge cases ===\")\n+# Test various coefficient cases\n+print(f\"Mod(2*i, 2) = {Mod(2*i, 2)}\")  # Should be 0\n+print(f\"Mod(4*i, 2) = {Mod(4*i, 2)}\")  # Should be 0\n+print(f\"Mod(5*i, 2) = {Mod(5*i, 2)}\")  # Should be Mod(i, 2)\n+print(f\"Mod(6*i, 4) = {Mod(6*i, 4)}\")  # Should be Mod(2*i, 4)\n+print(f\"Mod(9*i, 3) = {Mod(9*i, 3)}\")  # Should be 0\n+print(f\"Mod(10*i, 3) = {Mod(10*i, 3)}\")  # Should be Mod(i, 3)\n+\n+print(\"\\n=== Multiple variables ===\")\n+j = Symbol('j', integer=True)\n+print(f\"Mod(3*i*j, 2) = {Mod(3*i*j, 2)}\")  # Should be Mod(i*j, 2)\n+print(f\"Mod(6*i*j, 4) = {Mod(6*i*j, 4)}\")  # Should be Mod(2*i*j, 4)\n+\n+print(\"\\n=== Non-integer symbols ===\")\n+a = Symbol('a')  # Not specified as integer\n+print(f\"Mod(3*a, 2) = {Mod(3*a, 2)}\")  # Should still work\n+\n+print(\"\\n=== Existing functionality (should not change) ===\")\n+print(f\"Mod(4*i, 4) = {Mod(4*i, 4)}\")  # Should be 0\n+print(f\"(3*i*x) % (2*i*y) = {(3*i*x) % (2*i*y)}\")  # Should be i*Mod(3*x, 2*y)\n+print(f\"(-2*pi) % (3*pi) = {(-2*pi) % (3*pi)}\")  # Should be pi\n+print(f\"(2*x + 2) % (x + 1) = {(2*x + 2) % (x + 1)}\")  # Should be 0\n+\n+print(\"\\n=== Complex cases ===\")\n+print(f\"Mod(15*i, 6) = {Mod(15*i, 6)}\")  # Should be Mod(3*i, 6)\n+print(f\"Mod(21*i, 14) = {Mod(21*i, 14)}\")  # Should be Mod(7*i, 14)\n\\ No newline at end of file\ndiff --git a/test_simple.py b/test_simple.py\nnew file mode 100644\nindex 0000000000..a350319191\n--- /dev/null\n+++ b/test_simple.py\n@@ -0,0 +1,39 @@\n+#!/usr/bin/env python3\n+\n+from sympy import Symbol, Mod, sympify, pi\n+from sympy.abc import x, y\n+\n+# Test the main issue\n+i = Symbol('i', integer=True)\n+k = Symbol('k', integer=True)\n+\n+print(\"=== Main issue tests ===\")\n+print(f\"Mod(3*i, 2) = {Mod(3*i, 2)}\")  # Should be Mod(i, 2)\n+print(f\"sympify(3*k%2) = {sympify(3*k % 2)}\")  # Should be Mod(k, 2)\n+\n+print(\"\\n=== Edge cases ===\")\n+# Test various coefficient cases\n+print(f\"Mod(2*i, 2) = {Mod(2*i, 2)}\")  # Should be 0\n+print(f\"Mod(4*i, 2) = {Mod(4*i, 2)}\")  # Should be 0\n+print(f\"Mod(5*i, 2) = {Mod(5*i, 2)}\")  # Should be Mod(i, 2)\n+print(f\"Mod(6*i, 4) = {Mod(6*i, 4)}\")  # Should be Mod(2*i, 4)\n+print(f\"Mod(9*i, 3) = {Mod(9*i, 3)}\")  # Should be 0\n+print(f\"Mod(10*i, 3) = {Mod(10*i, 3)}\")  # Should be Mod(i, 3)\n+\n+print(\"\\n=== Multiple variables (simple) ===\")\n+j = Symbol('j', integer=True)\n+print(f\"Mod(3*i, 2) = {Mod(3*i, 2)}\")  # Should be Mod(i, 2)\n+\n+print(\"\\n=== Non-integer symbols ===\")\n+a = Symbol('a')  # Not specified as integer\n+print(f\"Mod(3*a, 2) = {Mod(3*a, 2)}\")  # Should still work\n+\n+print(\"\\n=== Existing functionality (should not change) ===\")\n+print(f\"Mod(4*i, 4) = {Mod(4*i, 4)}\")  # Should be 0\n+print(f\"(3*i*x) % (2*i*y) = {(3*i*x) % (2*i*y)}\")  # Should be i*Mod(3*x, 2*y)\n+print(f\"(-2*pi) % (3*pi) = {(-2*pi) % (3*pi)}\")  # Should be pi\n+print(f\"(2*x + 2) % (x + 1) = {(2*x + 2) % (x + 1)}\")  # Should be 0\n+\n+print(\"\\n=== Complex cases ===\")\n+print(f\"Mod(15*i, 6) = {Mod(15*i, 6)}\")  # Should be Mod(3*i, 6)\n+print(f\"Mod(21*i, 14) = {Mod(21*i, 14)}\")  # Should be Mod(7*i, 14)\n\\ No newline at end of file\n"}