{"model_name_or_path": "250522_anthropic_filemap_simple_review__claude-sonnet-4-20250514__t-0.00__p-1.00__c-3.00___swe_bench_verified_test", "instance_id": "sympy__sympy-16450", "model_patch": "diff --git a/sympy/simplify/simplify.py b/sympy/simplify/simplify.py\nindex c6b511f206..cc48079ca3 100644\n--- a/sympy/simplify/simplify.py\n+++ b/sympy/simplify/simplify.py\n@@ -251,8 +251,40 @@ def posify(eq):\n             eq[i] = e.subs(reps)\n         return f(eq), {r: s for s, r in reps.items()}\n \n-    reps = {s: Dummy(s.name, positive=True)\n-                 for s in eq.free_symbols if s.is_positive is None}\n+    def _get_posify_assumptions(symbol):\n+        \"\"\"Get assumptions from symbol that are compatible with positive=True\"\"\"\n+        \n+        # Assumptions that are incompatible with positive=True\n+        incompatible = {\n+            'imaginary', 'zero', 'negative', 'nonpositive', 'infinite'\n+        }\n+        \n+        # Assumptions that are automatically derived from positive=True\n+        # so we don't need to explicitly set them\n+        auto_derived = {\n+            'positive', 'real', 'complex', 'hermitian', 'nonnegative', \n+            'nonzero'\n+        }\n+        \n+        # Get the original assumptions from the symbol\n+        original_assumptions = symbol._assumptions._generator\n+        \n+        # Filter out incompatible and auto-derived assumptions\n+        preservable = {}\n+        for key, value in original_assumptions.items():\n+            if key not in incompatible and key not in auto_derived:\n+                preservable[key] = value\n+        \n+        # Always add positive=True\n+        preservable['positive'] = True\n+        \n+        return preservable\n+\n+    reps = {}\n+    for s in eq.free_symbols:\n+        if s.is_positive is None:\n+            assumptions = _get_posify_assumptions(s)\n+            reps[s] = Dummy(s.name, **assumptions)\n     eq = eq.subs(reps)\n     return eq, {r: s for s, r in reps.items()}\n \n"}