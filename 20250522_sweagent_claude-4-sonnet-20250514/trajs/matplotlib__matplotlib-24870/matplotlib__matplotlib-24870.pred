{"model_name_or_path": "250522_anthropic_filemap_simple_review__claude-sonnet-4-20250514__t-0.00__p-1.00__c-3.00___swe_bench_verified_test", "instance_id": "matplotlib__matplotlib-24870", "model_patch": "diff --git a/lib/matplotlib/contour.py b/lib/matplotlib/contour.py\nindex 144eadeae2..0989d4597b 100644\n--- a/lib/matplotlib/contour.py\n+++ b/lib/matplotlib/contour.py\n@@ -1128,7 +1128,19 @@ class ContourSet(cm.ScalarMappable, ContourLabeler):\n                 levels_arg = args[0]\n         else:\n             levels_arg = self.levels\n-        if isinstance(levels_arg, Integral):\n+        \n+        # Auto-detect boolean arrays and set appropriate levels\n+        if (self.levels is None and len(args) == 0 and \n+            hasattr(self, '_orig_z_dtype') and \n+            self._orig_z_dtype == np.bool_ and\n+            self.zmin == 0.0 and self.zmax == 1.0):\n+            if self.filled:\n+                # Filled contours need at least 2 levels\n+                self.levels = np.array([0.0, 0.5, 1.0])\n+            else:\n+                # Line contours only need 1 level at the boundary\n+                self.levels = np.array([0.5])\n+        elif isinstance(levels_arg, Integral):\n             self.levels = self._autolev(levels_arg)\n         else:\n             self.levels = np.asarray(levels_arg, np.float64)\n@@ -1447,7 +1459,10 @@ class QuadContourSet(ContourSet):\n             fn = 'contour'\n         nargs = len(args)\n         if nargs <= 2:\n-            z = ma.asarray(args[0], dtype=np.float64)\n+            # Store original dtype before conversion to float64\n+            z_orig = args[0]\n+            self._orig_z_dtype = getattr(z_orig, 'dtype', None)\n+            z = ma.asarray(z_orig, dtype=np.float64)\n             x, y = self._initialize_x_y(z)\n             args = args[1:]\n         elif nargs <= 4:\n@@ -1475,7 +1490,10 @@ class QuadContourSet(ContourSet):\n \n         x = np.asarray(x, dtype=np.float64)\n         y = np.asarray(y, dtype=np.float64)\n-        z = ma.asarray(args[2], dtype=np.float64)\n+        # Store original dtype before conversion to float64\n+        z_orig = args[2]\n+        self._orig_z_dtype = getattr(z_orig, 'dtype', None)\n+        z = ma.asarray(z_orig, dtype=np.float64)\n \n         if z.ndim != 2:\n             raise TypeError(f\"Input z must be 2D, not {z.ndim}D\")\n"}