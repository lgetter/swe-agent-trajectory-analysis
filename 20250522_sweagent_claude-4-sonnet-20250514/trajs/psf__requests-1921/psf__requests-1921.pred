{"model_name_or_path": "250522_anthropic_filemap_simple_review__claude-sonnet-4-20250514__t-0.00__p-1.00__c-3.00___swe_bench_verified_test", "instance_id": "psf__requests-1921", "model_patch": "diff --git a/requests/sessions.py b/requests/sessions.py\nindex a023e4ec..ccc6e4c7 100644\n--- a/requests/sessions.py\n+++ b/requests/sessions.py\n@@ -59,6 +59,23 @@ def merge_setting(request_setting, session_setting, dict_class=OrderedDict):\n         if v is None:\n             del merged_setting[k]\n \n+    # Remove keys that are set to None in session_setting, but only if\n+    # they weren't overridden by request_setting.\n+    for (k, v) in session_setting.items():\n+        if v is None and k in merged_setting:\n+            # Check if this key was overridden in request_setting\n+            # We need to handle case-insensitive comparison\n+            key_in_request = False\n+            if hasattr(request_setting, 'get'):  # dict-like object\n+                # For case-insensitive dicts, use direct containment check\n+                if hasattr(request_setting, '_store'):  # CaseInsensitiveDict\n+                    key_in_request = k in request_setting\n+                else:  # Regular dict - check all keys case-insensitively\n+                    key_in_request = any(k.lower() == req_k.lower() for req_k in request_setting.keys())\n+            \n+            if not key_in_request:\n+                del merged_setting[k]\n+\n     return merged_setting\n \n \n"}